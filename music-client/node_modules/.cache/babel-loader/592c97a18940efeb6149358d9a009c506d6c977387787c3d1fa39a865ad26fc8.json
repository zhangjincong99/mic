{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Song List Ranking\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Rank\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Title\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Score\")])], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"table\", null, [_hoisted_2, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.songLists, (songList, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: songList.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(songList.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.calculateAverageScore(songList.id)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","$data","songLists","songList","index","key","id","_toDisplayString","title","$options","calculateAverageScore"],"sources":["E:\\javaideaiu\\class22\\mic\\music-client\\src\\views\\song-sheet\\paihangbang.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Song List Ranking</h1>\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Rank</th>\r\n          <th>Title</th>\r\n          <th>Score</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(songList, index) in songLists\" :key=\"songList.id\">\r\n          <td>{{ index + 1 }}</td>\r\n          <td>{{ songList.title }}</td>\r\n          <td>{{ calculateAverageScore(songList.id) }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { HttpManager } from \"@/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      songLists: [],\r\n      rankData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getSongLists();\r\n    this.getRankData();\r\n  },\r\n  methods: {\r\n    async getSongLists() {\r\n      try {\r\n        const response = await HttpManager.getSongList();\r\n        this.songLists = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error getting song lists:\", error);\r\n      }\r\n    },\r\n    async getRankData() {\r\n      try {\r\n        const response = await HttpManager.getRankOfSongListId();\r\n        this.rankData = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error getting rank data:\", error);\r\n      }\r\n    },\r\n    calculateAverageScore(songListId) {\r\n      const filteredRankData = this.rankData.filter((rank) => rank.songListId === songListId);\r\n      const scores = filteredRankData.map((rank) => rank.score);\r\n      const sum = scores.reduce((accumulator, current) => accumulator + current, 0);\r\n      const averageScore = sum / scores.length;\r\n      return isNaN(averageScore) ? 0 : averageScore;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";gCAEIA,mBAAA,CAA0B,YAAtB,mBAAiB;gCAEnBA,mBAAA,CAMQ,gB,aALNA,mBAAA,CAIK,a,aAHHA,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAc,YAAV,OAAK,G,aACTA,mBAAA,CAAc,YAAV,OAAK,E;;;uBAPjBC,mBAAA,CAkBM,cAjBJC,UAA0B,EAC1BF,mBAAA,CAeQ,gBAdNG,UAMQ,EACRH,mBAAA,CAMQ,iB,kBALNC,mBAAA,CAIKG,SAAA,QAAAC,WAAA,CAJ2BC,KAAA,CAAAC,SAAS,GAA7BC,QAAQ,EAAEC,KAAK;yBAA3BR,mBAAA,CAIK;MAJuCS,GAAG,EAAEF,QAAQ,CAACG;QACxDX,mBAAA,CAAwB,YAAAY,gBAAA,CAAjBH,KAAK,sBACZT,mBAAA,CAA6B,YAAAY,gBAAA,CAAtBJ,QAAQ,CAACK,KAAK,kBACrBb,mBAAA,CAAiD,YAAAY,gBAAA,CAA1CE,QAAA,CAAAC,qBAAqB,CAACP,QAAQ,CAACG,EAAE,kB"},"metadata":{},"sourceType":"module","externalDependencies":[]}